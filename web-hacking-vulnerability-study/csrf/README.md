---
description: Cross Site Request Forgery
---

# CSRF

공격자가 요청을 위조(변조)하여&#x20;

피해자로 하여금 서버로 그 요청을 하게 만드는 것.



피해자가 자신의 의도와 무관하게, 서버로 어떠한 요청을 하게 만드는 공격 (공격자가 원하는 요청)



예시)

\~\~님. 아래 사이트 좀 확인해 주세요.&#x20;

https://\~\~\~/?password\_new=1234<mark style="color:red;">\&password\_conf</mark>=1234<mark style="color:red;">\&Change</mark>=Change

클릭하는 순간 비밀번호 바뀜.



### #CSRF (feat. XSS)

CSRF를 XSS와 연계하면 엄청난 공격 된다.&#x20;

(시너지가 좋아서 같이 연계하여 사용하는 경우가 많음)



Zero Click이 가능해짐.



게시판에 스크립트를 사용할 수 있다면&#x20;

```
<img src="CSRF 주소">
```



XSS가 없으면? -> CSRF가 없나요?&#x20;

\-> NO (별개의 취약점임)



### #CSRF는 어디에서 일어나나요?

(어떻게 확인할 수 있나요?)

해커가 준비한 위조한 요청을 피해자로 하여금 직접 요청 하게 만드는 공격.



모든 요청(에서 가능함.)이 있는 곳!&#x20;

<mark style="background-color:orange;">요청을 임의로 만들 수 있다면, CSRF취약점으로 판단할 수 있음.</mark>&#x20;

\| 컨설턴트 주관(에 따라 취약점일수도, 아닐수도 있다.)



모든 요청에서 CSRF를 보호해야 하는 건 아님&#x20;

http://youtube.com/?video=normaltic 등



게시판 글 수정 ->&#x20;

게시판 글 쓰기 ->&#x20;

<mark style="color:red;">내가 왜 위험한지 설명할 수 있다면 취약점.</mark>&#x20;

<mark style="color:red;">이유 설명이 어렵거나, 명분이 없다면 취약점으로 보기 어려움.</mark>



\| 비밀번호 변경&#x20;

현재 비밀번호 :&#x20;

old\_pass를 미리 알 수 없으므로 CSRF 불가

검증 단계를 넣는다면 보다 안전해진다. (<mark style="color:red;">**인증정보가 없네? -> CSRF네!!**</mark>)



CSRF 취약점 고려를 전혀 안 하는 사람들이 꽤 많다. 그래서 현업에서 꽤 보인다.



