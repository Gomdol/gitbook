# File download 취약점

download.php (파일을 전달해주는 웹 요청)

을 이용해서 다음과 같이 파일을 다운로드 한다고 가정해볼게.

&#x20;

download.php?fileName=70.jpg

&#x20;

```php
<?php
	fileName = $_GET['fileName'];
	download('/files/' . $fileName);
?>
```

&#x20;

. 은 앞과 뒤를 연결해주는 역할이기 때문에 저 fileName 부분을 활용해 볼거야.

&#x20;

**fileName = ../../../../../../../../etc/passwd**

&#x20;

&#x20;

장점 : <mark style="color:red;">소스코드를 다운로드</mark> 할 수 있어

단점 : 소스코드를 실행하지 못해.

&#x20;

&#x20;

파일 다운로드 취약점을 발견했다면,

<mark style="color:red;">1순위로 소스코드를 찾는게 가장 중요해. (엄청난 취약점이야)</mark>

&#x20;

소스코드를 보고 SQLi을 찾을 수도 있어!

&#x20;

이 취약점을 침투테스트 시 어떻게 활용할 수 있을지 곰곰히 생각해 봐야해!

&#x20;

&#x20;

***

&#x20;

&#x20;

\
<mark style="background-color:orange;">❤주로 찾을 파일</mark>

#### Linux

/etc/passwd

#### Windows

/boot.ini\
/winnt/win.ini
