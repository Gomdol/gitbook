# XSS 대응 방안

HTML 특수문자를 HTML Entity 표현 치환한다.&#x20;

< ' " >



### #HTML Entity

근본적으로 막을 수 있는 방안이다.



꺽쇠 대신 사용.

```
&lt; <
&rt; >
```

실제 꺽쇠는 아니지만, 화면에서 꺽쇠로 보여준다.



### #HTML Entity 사용이 불가능 한 곳

HTML Editor 에디터를 사용하는 곳&#x20;

\-> XSS 잘 일어날 수 밖에 없다.&#x20;

&#x20;   <>"' 를 못쓰게 하는 순간 HTML Editor 로서 기능하기 어렵다.

* <mark style="background-color:orange;">현업에서는 HTML Editor 기능 삭제. 권고함.</mark>



### <mark style="background-color:blue;">#HTML Editor를 꼭 써야 하는 경우?</mark>

1. 파라미터에서 HTML 특수 문자들을 전부 HTML Entity로 치환
2. 허용해줄 tag를 식별하고 그 tag를 다시 살린다. (화이트 리스트 기반)&#x20;
   1. img, a, h1, h2, h3 등등..
3. 살려준 tag 내에 악의적인 event Handler가 있는지 블랙 리스트 기반 필터링 onerror 등..&#x20;

위 세 가지 단계를 거쳐서 대응해야 함.

