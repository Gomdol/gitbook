# SQL Injection Point 찾기

### SQLi를 찾는 포인트

: <mark style="background-color:red;">**DB에게 SQL 질의문을 사용하는 곳**</mark>이다.

파라미터를 통해 SQLi가 되는지 테스트 해 볼 수 있다.



예를들어, **게시판에서 ID로 조회**한다고 가정한다.

where user\_id like '% \_\_\_ %' and '1' 이 되는지 테스트 해보자.

\_\_\_ 안에, 검색하려는 검색어 normaltic 중 일부인

1. nor
2. nor%' and '1%' = '1

1, 2의 결과가 같은지 확인해본다.

(같다면 SQLi 취약점이  있을수 있음.)



burpsuite의 파라미터, 헤더 정보를 통해서 분석해보자!



***

#### insert절



💡참고로 회원  가입은 insert문을 사용한다.

() 괄호 안에

insert values('') 이 안에 들어갈 것. insert values('normaltic' and '1'='1')

지금 이 <mark style="background-color:red;">**파라미터가 웹서버 SQL 구문 중 어디에 들어갈지**</mark>를 먼저 머리 속으로 그리고 그에 맞춰서 구문을 넣어야 한다.

> **쿠키**에서도 sql 인젝션이 가능하다!



***

#### order by절



게시판에서 조건 (제목, 이름 등..)으로 검색하는 것과 관련하여 아래 내용을 보자.



sort=title &#x20;

order by **title**



<mark style="color:red;">**\*\***</mark> 으로 검색하는 것은 sql문으로 order by <mark style="color:red;">**\*\***</mark> 이 들어갔다고 추정할 수 있다.



***

#### case when 문법으로 참/거짓 판별하기



case when 문법 = sql 질의문에서의 if 문



**기본 공식** : case when (조건) then (참일 때) else (거짓일 때) end



case when (1=1) then 1 else 2 end&#x20;

case when (1=2) then 1 else 2 end

case when (1=1) then username else title end&#x20;

case when (1=2) then username else title end&#x20;

위와 같이 참/거짓을 확인함.





## <mark style="background-color:blue;">하단 계속 편집</mark>







